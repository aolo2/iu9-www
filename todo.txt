== Курсач ==

+ ESCAPE ALL HTML!!!!
+ меню вставлять через getelementbyId
не забыть валидацию editbox запроса (как и всех остальных)
индексы в монге!

Зарегистриваться могут только студенты. Остальных пользователей можно только создать (во избежание контрафактов)

Студент, преподаватель, редактор, админ
Система ролей: есть роль, проверка во всех запросах - по JSON схеме - хранятся в словаре

Запрос идентифициурется словарем?
Достать правила для данного запроса и req
Проверить - да/нет

Событие:
  - Мета (название, начало, [конец], ОПИСАНИЕ!!)
  - Участники (просто логины (ибо роли есть в пользователях))
  - Материалы (ссылки на загруженные файлы)
  - Переписка (создать комнату, правила для комнаты - может писать только преподаватель?)

Финишная прямая:
[x] Верстка создания события
[x] Перенести test.html на страницу управления
[x] Уведомление о событии в новостях
[x] (До)верстка интерфейса отправления новости
[x] Починить получение новостей
  [x] Бек (public запрос (+ private если _logged_in()))
  [x] Фронт (заголовок + editbox)
[x] Логика проведения события
  [x] Создание чат-комнаты
     [x] в ws адресе передавать chatId (поэтому не надо писать комнаты в юзера)
  [x] Удаление чат-комнаты
     [x] комнаты с историей не удаляем, а ставим статус. проверять статус при отправке сообщения и onconnect
  [x] Удаление события
[x] Верстка страницы проведения события
[x] Выпадающее меню (абитуриенту)
[x] Роли
  [x] У всех пользователей есть роль
  [x] Какая роль что делает
    [x] студент
      POST /users/logout
      GET /users/events
      GET /news/public
      GET /news
      GET /event
      GET /editbox
    [x] преподаватель
      ВСЁ ЧТО СТУДЕНТ +
      GET /users
      GET /users/groups
      POST /event/create
      DELETE /event
      GET /events/subjects (для создания события)
      GET /events/types
      POST /files/upload (для создания события)
    [x] редактор
      ВСЁ ЧТО СТУДЕНТ +
      POST /news
      DELETE /news (если не уберу запрос)
      GET /editbox/source
      PATCH /editbox/source
    [x] администратор
      любой запрос (с любоыми параметрами)
  [x] Проверка ролей (как раньше)
    [x] ключ-{можно/схема} в монге
    [x] роли выгружаем в redis (по мере запросов)
    [x] запрос при проверке подгружает все роли пользователя и смотрит хоть в одной ли прошло
[ ] Индексы в монге
[ ] Почистить текст?


[ ] Код
  [ ] Бек
    [x] Чат
      [x] Websocket server
      [x] Как это всё хранить в базе (чат id, id участников, история, название, createdAt...)
      [x] Создание чата (n участников)
      [x] Отправка сообщения
      [x] Получение истории (непрочитанные*)
      [x] Websocket client
    [ ] Система ролей (доделываем текущую схему)
      [.] Сами роли (биты? таблица? что-то лучше?)
      [.] Расстановка ролей на действия (что такое действия - метод + url + параметры)
      [.] Проверка роли
  [ ] Фронт (надо придумать единый стиль для активных элементов, тогда будет проще прв-ать)
    [.] Починить меню
    [.] Починить клиентский JS
    [x] Ссылку на полный учебный план
    [x] Вставить editbox в сайт
      [x] Загрузка текста editbox при загрузке страницы (рендер)
    [ ] *История редактирования для editbox
    [x] Регистрация (переверстка)
    [x] Календарный план (прв)
    [x] Поступление (прв)
    [x] Наши выпускники (прв)
    [x] Публикация новостей (прв)
    [x] Управление
      [x] События
        [x] Создание события
      [x] Заявки на регистрацию
      [x] Добавление пользователей
        [ ] *Модификация пользователей
    [ ] Участие в событии

[ ] Записка
  [ ] Какая все-таки тема курсача? (будет понятно через сутки)
  [ ] Накидать содержание (цель - 25 страниц) (смотри этот док для мыслей)
  [ ] Для пунктов содержания начитать (голосом) мысли
  [ ] Слушаем мысли - пишем предложения
  [ ] Все графики и замеры в конце
  [ ] Презентация
    [ ] Можно ли начать с показа?
    [ ]



